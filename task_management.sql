-- phpMyAdmin SQL Dump
-- version 5.0.4
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Авг 24 2021 г., 09:07
-- Версия сервера: 8.0.19
-- Версия PHP: 8.0.1

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `task_management`
--
CREATE DATABASE IF NOT EXISTS `task_management` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;
USE `task_management`;

-- --------------------------------------------------------

--
-- Структура таблицы `tasks`
--

CREATE TABLE `tasks` (
  `id` int UNSIGNED NOT NULL,
  `discription` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'задание',
  `start_date` timestamp NULL DEFAULT NULL COMMENT 'дата и время получения задания',
  `end_date` timestamp NULL DEFAULT NULL COMMENT 'дата и время исполнения задания',
  `users_id` int UNSIGNED NOT NULL COMMENT 'Работник',
  `performance` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'отметка о выполнении'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `tasks`
--

INSERT INTO `tasks` (`id`, `discription`, `start_date`, `end_date`, `users_id`, `performance`) VALUES
(1, 'Починить кран (туалет)', '2021-07-27 20:08:12', '2021-07-29 20:08:12', 11, 'выполнено'),
(2, 'Покрасить пол', '2021-07-30 21:00:00', '2021-08-02 21:00:00', 11, 'выполнено'),
(3, '    Покрасить потолок (спальня белый)', '2021-07-29 21:00:00', '2021-08-07 21:00:00', 8, 'выполнено'),
(5, 'Поклеить обои (кухня)', '2021-07-30 21:00:00', '2021-08-07 21:00:00', 11, ' выполнено'),
(7, 'Внутренняя отделка (потолки балкон спальня)', '2021-08-02 21:00:00', '2021-08-07 21:00:00', 8, 'не выполнено'),
(8, 'Внутренняя отделка (потолок)', '2021-07-30 21:00:00', '2021-08-07 21:00:00', 11, 'не выполнено'),
(9, '  купить кран кухня-туалет', '2021-08-03 21:00:00', '2021-08-03 21:00:00', 8, 'выполнено'),
(10, 'кран на замену', '2021-08-03 21:00:00', '2021-08-03 21:00:00', 8, 'не выполнено'),
(11, 'покрасить дверь', '2021-08-04 19:38:00', '2021-08-04 20:39:00', 11, 'выполнено'),
(12, 'починить замок', '2021-08-04 19:40:00', '2021-08-03 21:41:00', 8, 'не выполнено'),
(13, ' поменять прокладку', '2021-08-04 09:43:00', '2021-08-04 09:46:00', 11, 'выполнено'),
(14, 'Поставить раму', '2021-08-05 17:49:00', '2021-08-06 17:49:00', 11, 'не выполнено'),
(15, 'вставить стекло', '2021-08-05 18:09:00', '2021-08-06 20:07:00', 11, 'выполнено'),
(16, 'помыть окна', '2021-08-06 20:01:00', '2021-08-07 04:44:00', 11, 'не выполнено'),
(17, 'отремонтировать раму', '2021-08-06 05:03:00', '2021-08-07 11:50:00', 8, 'не выполнено'),
(18, 'помыть пол', '2021-08-05 22:12:00', '2021-08-07 22:13:00', 11, 'не выполнено'),
(19, 'стяжка на пол', '2021-08-12 21:33:00', '2021-08-07 20:33:00', 11, 'выполнено'),
(20, 'краны', '2021-07-29 21:38:00', '2021-07-29 20:41:00', 11, 'не выполнено'),
(21, 'кран b ', '2021-07-30 21:43:00', '2021-08-13 23:43:00', 11, 'не выполнено'),
(22, 'кранwer', '2021-08-06 22:48:00', '2021-07-30 20:48:00', 8, 'выполнено'),
(23, 'кран asd', '2021-08-04 22:49:00', '2021-08-06 23:49:00', 8, 'выполнено'),
(24, 'кран ННН', '2021-08-06 22:51:00', '2021-08-08 20:54:00', 11, 'не выполнено'),
(25, 'кранAAAA', '2021-07-29 22:53:00', '2021-07-31 20:53:00', 8, 'не выполнено'),
(26, 'кранAAAA', '2021-07-29 23:54:00', '2021-07-30 20:57:00', 11, 'не выполнено'),
(27, 'кранGGGG', '2021-07-31 22:56:00', '2021-08-21 20:56:00', 8, 'выполнено'),
(28, 'Покрасить откос (спальня)', '2021-08-08 09:00:00', '2021-08-09 09:00:00', 11, 'выполнено'),
(29, 'кран Lp', '2021-08-08 17:21:00', '2021-08-14 16:20:00', 11, 'не выполнено'),
(30, 'Покрасить пол - балкон', '2021-08-08 19:33:00', '2021-08-08 20:33:00', 8, 'не выполнено'),
(31, 'Покрасить пол (балкон)', '2021-08-06 18:37:00', '2021-08-06 19:34:00', 8, 'не выполнено'),
(32, 'застеклить балконную раму', '2021-08-13 20:48:00', '2021-08-14 17:52:00', 11, 'выполнено'),
(33, 'стяжка туалет', '2021-08-08 19:51:00', '2021-08-14 17:55:00', 8, 'выполнено'),
(34, 'покрасить раму', '2021-08-09 07:02:00', '2021-08-07 19:02:00', 11, 'выполнено'),
(35, 'покрасить двери', '2021-08-11 06:00:00', '2021-08-11 18:32:00', 8, 'не выполнено'),
(36, 'Красные жалюзи', '2021-08-13 22:57:00', '2021-08-15 17:57:00', 11, 'не выполнено'),
(37, 'паркет лак', '2021-08-14 21:06:00', '2021-08-16 22:06:00', 8, 'выполнено'),
(38, 'полы паркет (лак глянец)', '2021-08-18 18:45:00', '2021-08-19 18:45:00', 8, 'не выполнено'),
(39, 'Заменить плинтуса', '2021-08-20 14:00:00', '2021-08-22 14:00:00', 8, 'выполнено'),
(40, 'Подоконник (зал)', '2021-08-21 05:05:00', '2021-08-21 11:00:00', 11, 'выполнено'),
(41, 'Подвесной потолок (спальня)', '2021-08-27 08:08:00', '2021-08-28 15:00:00', 8, 'выполнено'),
(44, '                         fffffffffffff', '2021-08-12 11:48:00', '2021-08-20 13:50:00', 8, 'выполнено'),
(45, 'dfdfdfd', '2021-08-23 11:51:00', '2021-09-03 11:51:00', 8, 'выполнено'),
(46, '55555555555555', '2021-08-15 12:02:00', '2021-08-26 12:02:00', 8, 'выполнено'),
(47, '6666666666666666666', '2021-08-24 12:03:00', '2021-08-25 12:03:00', 8, 'выполнено'),
(48, '77777777777777', '2021-08-23 12:06:00', '2021-08-23 12:06:00', 8, 'выполнено'),
(49, '8888888888888888888', '2020-12-31 21:00:00', '2020-12-31 21:00:00', 8, 'выполнено'),
(51, '11111111111111111111111111', '2021-07-31 19:35:00', '2021-09-04 19:35:00', 8, 'не выполнено');

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--

CREATE TABLE `users` (
  `id` int UNSIGNED NOT NULL,
  `name` varchar(50) DEFAULT NULL COMMENT 'имя зарегистрированного пользователя',
  `login` varchar(50) DEFAULT NULL COMMENT 'логин зарегистрированного пользователя',
  `password` varchar(50) DEFAULT NULL COMMENT 'пароль зарегистрированного пользователя',
  `user_groups_id` int UNSIGNED NOT NULL COMMENT 'Группа'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`id`, `name`, `login`, `password`, `user_groups_id`) VALUES
(4, 'Lena', 'lena1', '9c832f45a083a81475296025ce4d23b9', 1),
(8, 'Roman', 'roman1', 'c640dcbf4d993125de460165a1915312', 2),
(11, 'Pavel', 'pavel1', '548b8331ac1255389487f847e7fb5311', 2),
(14, 'Tomas', 'tom1', '6e2da58363016081661890e15fa3dfb9', 3),
(15, 'Иванов Иван Иванович', 'ivan1', '0da5ac42c981792b0703fff744a642af', 3),
(17, 'Lisa', 'lisa1', '5cf05941e8a9916e7fc3dc3d1f4fa359', 3),
(18, 'Egor', 'egor1', '75453b8fab80973664086f5984da2204', 3),
(19, 'dima', 'dima', '29b8773b35164e52ca1f2c5139baeb03', 3);

-- --------------------------------------------------------

--
-- Структура таблицы `user_groups`
--

CREATE TABLE `user_groups` (
  `id` int UNSIGNED NOT NULL,
  `name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'название',
  `code` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'группа'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `user_groups`
--

INSERT INTO `user_groups` (`id`, `name`, `code`) VALUES
(1, 'Администратор', 'admin'),
(2, 'Рабочие', 'user'),
(3, 'Заказчик', 'customer'),
(6, 'Гость', 'guest');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `tasks`
--
ALTER TABLE `tasks`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_tasks_users_idx` (`users_id`);

--
-- Индексы таблицы `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_users_user_groups1_idx` (`user_groups_id`);

--
-- Индексы таблицы `user_groups`
--
ALTER TABLE `user_groups`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `tasks`
--
ALTER TABLE `tasks`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=52;

--
-- AUTO_INCREMENT для таблицы `users`
--
ALTER TABLE `users`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- AUTO_INCREMENT для таблицы `user_groups`
--
ALTER TABLE `user_groups`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `tasks`
--
ALTER TABLE `tasks`
  ADD CONSTRAINT `fk_tasks_users` FOREIGN KEY (`users_id`) REFERENCES `users` (`id`);

--
-- Ограничения внешнего ключа таблицы `users`
--
ALTER TABLE `users`
  ADD CONSTRAINT `fk_users_user_groups1` FOREIGN KEY (`user_groups_id`) REFERENCES `user_groups` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
